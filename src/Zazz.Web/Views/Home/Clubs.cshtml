@using Zazz.Web.Controllers
@model IEnumerable<ClubViewModel>
@{
    var currentUserDisplayName = "Unknown user";
    var currentUserId = 0;

    var controller = ViewContext.Controller as BaseController;
    if (controller != null)
    {
        currentUserDisplayName = controller.GetCurrentUserDisplayName();
        currentUserId = controller.GetCurrentUserId();
    }
}

<script type="text/javascript">
    document.getElementsByTagName('body')[0].style['background-color'] = 'white';
</script>

<div class="container" style="margin-top: -13px;">
    <div class="row-fluid">

        @*LEFT SIDE*@
        <div class="span3 margin-top-15">
            <div class="user">
                <img class="user-img img-rounded img-polaroid" src="@Html.Action("GetCurrentUserVerySmallDisplayPicture")" />
                <a href="@Url.Action("Profile", "Users", new { id = currentUserId, friendlySeoName = currentUserDisplayName.ToUrlFriendlyString() })" class="username">@currentUserDisplayName</a>
            </div>


            <ul class="nav nav-stacked right-nav">
                <li>
                    <a href="#" id="notifications-link" data-toggle="popover" data-html="true" data-original-title="Notifications"
                       data-title="Notifications"
                       data-content="
                        <div class='text-center'><i class='icon-spinner icon-spin' style='font-size:30px;'></i></div>">
                        <i class="icon-exclamation-sign"></i>&nbsp; Notifications
                        @Html.Action("GetNewNotificationsCount", "Notifications")
                    </a>
                </li>
                <li><a href="@Url.Action("Followers", "Users", new {id=currentUserId})"><i class="icon-user"></i>&nbsp; Followers @Html.Action("GetFollowRequestsCount", "Follow")</a></li>
                <li><a href="@Url.Action("Following", "Users", new {id=currentUserId})"><i class="icon-user"></i>&nbsp; Following</a></li>
                <li><a href="@Url.Action("Photos", "Users", new {id=currentUserId})"><i class="icon-camera"></i>&nbsp; Photo</a></li>
                <li><a href="@Url.Action("Clubs", "Home")"><i class="icon-glass"></i>&nbsp; Clubs</a></li>
            </ul>
        </div>

        @*CENTER*@

        <div class="span6 color-white-bg box-shadow padding-top-17 padding-bottom-100 margin-left-10">
            <div id="profileTabs">
                <div class="tabbable">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#clubsTab" data-toggle="tab" data-load-clubs="clubs">Clubs</a></li>
                        <li><a href="#myClubsTab" data-toggle="tab" data-load-clubs="myclubs">My Clubs</a></li>
                        <li><a href="#schoolClubsTab" data-toggle="tab" data-load-clubs="schoolclubs">School Clubs</a></li>
                    </ul>
                    <div class="tab-content" style="overflow-y: hidden; overflow-x:hidden;">
                        <div class="tab-pane active" id="clubsTab">
                            @Html.Partial("_ClubsList", Model)
                        </div>
                        <div class="tab-pane margin-ten" id="myClubsTab">
                        </div>
                        <div class="tab-pane margin-ten" id="schoolClubsTab">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @*RIGHT*@
        <div class="span3" style="margin-top: 263px;margin-left: 10px;">
            <div id="schoolClubsFilter" style="display: none;">
                <button id="clearFilters" class="btn btn-link">Clear Filter</button>
                <img class="school-filter-img" src="/Images/home5.png" alt="McGill" data-name="McGill University" />
                <img class="school-filter-img" src="/Images/home4.png" alt="Concordia" data-name="Concordia University" />
            </div>
        </div>
    </div>
</div>
