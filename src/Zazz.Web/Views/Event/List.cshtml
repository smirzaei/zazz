@{
    ViewBag.Title = "Events List";
}

<div class="container">
    <div class="text-center">
        <span class="alfa-slab-font">EVENTS</span><br/>
        <span class="event-city-name">Montreal</span>
    </div>
    
    <div class="alfa-slab-font" style="margin-top: 50px;">
        <span class="pull-left">THIS WEEK</span>
        <span class="pull-right">THIS MONTH</span>
        <div class="clearfix"></div>
    </div>
</div>
<hr class="dark-line" style="margin: 10px 0;"/>

<div class="container split-two">
    
    @* LEFT ITEMS *@
    <div class="left-part">
        @Html.Partial("_EventPartial")
    </div>
    
    @* RIGHT ITEMS *@
    <div class="right-part">
        @Html.Partial("_EventPartial")
    </div>
    
    <div class="clearfix"></div>
</div>


@section Scripts
{
    <script type="text/javascript">
        $(function () {

            function flip(elem, rotateX, duration, callback) {
                $(elem).transition({
                    perspective: '1000px',
                    rotateX: rotateX + 'deg',
                    duration: duration,
                    complete: callback
                });
            }

            var flipDuration = 250;

            $('.event').click(function () {
                var self = this;

                var side = $(self).data('side');
                var front = $(self).children('.event-front');
                var back = $(self).children('.event-back');
                
                if (side == "front") {
                    flip(self, '90', flipDuration, function () {
                        front.hide();
                        back.show();

                        flip(self, '0', flipDuration);
                        $(self).data('side', 'back');
                    });

                } else {
                    flip(self, '-90', flipDuration, function () {
                        front.show();
                        back.hide();

                        flip(self, '0', flipDuration);
                        $(self).data('side', 'front');
                    });
                }

            });
        });
    </script>  
}